<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
    .slider {
        border-radius: 5px;
        background: #E0E0E0;
        background: linear-gradient(left top, #E0E0E0, #EEEEEE);
        width: 310px;
        height: 15px;
        margin: 5px;
        display: relative;
      }

      .thumb {
        width: 10px;
        height: 25px;
        border-radius: 3px;
        position: relative;
        left: 10px;
        top: -5px;
        background: blue;
        cursor: pointer;
      }
  </style>
 
</head>

<body>

  <div id="slider" class="slider">
    <div class="thumb"></div>
  </div>

  <script>
    let thumb = document.getElementsByClassName('thumb')[0];
    let slider = document.getElementById('slider');
    // let thumbTop = Math.abs(parseInt(getComputedStyle(thumb).top) / 2.0) + 'px';
    let rect = slider.getBoundingClientRect(slider);
    let maxX = rect.width - thumb.clientWidth;
    let minY = 0;
    
    function slideTo(elem, offsetX) {
      elem.style.left = offsetX + 'px';
    }
    
    thumb.onmousedown = function(event) {
      thumb.style.position = 'relative';
      // thumb.style.top = thumbTop;
      thumb.style.zIndex = 1000;
      // document.body.append(thumb);
      let eventOffset = event.clientX - rect.left;
      let offset = eventOffset < maxX ? eventOffset : maxX;
      slideTo(thumb, offset);

      function onMouseMove(event) {
        let eventOffset = event.clientX - rect.left;
        let offset = eventOffset < maxX ? eventOffset : maxX;
        slideTo(thumb, offset);
      }
      
      slider.addEventListener('mousemove', onMouseMove);
      // slider.addEventListener('mouseout', function() {
      //   slider.removeEventListener('mousemove', onMouseMove);
      //   thumb.onmouseup = null;
      // });

      thumb.onmouseup = function() {
        slider.removeEventListener('mousemove', onMouseMove);
        thumb.onmouseup = null;
      }
    };

    thumb.ondragstart = function() {
      return false;
    }
    // ...your code...
  </script>

</body>
</html>
